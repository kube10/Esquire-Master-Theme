{%- assign product_form_id = 'product-form-' | append: section.id | append: "-" | append: product.id -%}


 <div class="product-card-minimal {{size}}">
  <div class="product-card-minimal__image-wrap" onmouseenter="showOverlay(this)">
    <img class="product-card-minimal__image" src="{{product.featured_media | image_url}}" alt="">
    <div class="product-card-minimal__overlay {{size}}" onmouseleave="hideOverlay(this)">
      <div class="product-card-minimal__overlay-text-content">
        <h6 class="product-card-minimal__overlay-title">{{product.title}}</h6>
        <p class="p-small color-heading product-card-minimal__overlay-title-description">{{product.description}}</p>
        {% include 'esq-price', orientation: "vertical", size:"regular" %}
      </div>
      {%- assign amountOfVariants = product.variants.size -%}
      {%- if amountOfVariants > 1 -%}
        <div class="product-card-minimal__overlay-options">
          {%- for variant in product.variants -%}
            <span class="option-badge {% unless variant.available %}disabled{% endunless %}">{{ variant.title }}</span>
          {%- endfor -%}
        </div>
      {%- endif -%}
      <div class="product-card-minimal__overlay-actions {% if amountOfVariants == 1 %}vertical{% endif %}">
          {%- form 'product', product, id: product_form_id, class:"form", novalidate: 'novalidate', data-type:"add-to-cart-form" -%}
          <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
          <button type="submit" class="button small button-secondary border">
            <span>ADD TO CART</span>
            {%- render 'icon-cart' -%}
          </button>
          {%- endform -%}
          <button type="submit" class="button small button-primary">
            BUY NOW
          </button>
      </div>
    </div>
  </div>
  <div class="product-card-minimal__content">
    <h6 class="product-card-minimal__title m-0">{{product.title}}</h6>
    {% include 'esq-price' %}
  </div>
</div>

<script type="text/javascript">
  function showOverlay(target) {
      const overlay = target.querySelector('.product-card-minimal__overlay');
      overlay.classList.add('open');
  }

  function hideOverlay(target) {
    target.classList.remove('open');
  }
</script>
