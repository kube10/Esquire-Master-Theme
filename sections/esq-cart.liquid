{{ "esq-cart.css" | asset_url | stylesheet_tag }}
<script src="{{ 'cart.js' | asset_url }}" defer="defer"></script>
<div class="container">
  {%- if cart != empty -%}
    <h1 class="h2 section-title">My cart</h1>
    <div class="cart__grid">
      {%- render 'esq-cart-items' -%}
      <div id="main-cart-footer" class="cart__totals">
            <div class="js-contents">
              <div class="cart__totals-content">
                <h6>Checkout</h6>
                <div class="cart__totals-info">
                  <p>VAT included.<br>Delivery costs will be calculated during checkout.</p>
                </div>
                <div class="cart__totals-price">
                  <span class="p-large">TOTAL:</span>
                  <span class="p-large cart__subtotal">
                    {{cart.total_price | money }}
                  </span>
                </div>
                <div class="cart__totals-actions">
                  <a class="button button-secondary inverted ghost">Coupon?</a>
                  <button class="button button-primary full-width">
                    <span>TO CHECKOUT</span>
                    {%- render 'icon-cart' -%}
                  </button>
                </div>
              </div>
            </div>
            {%- if section.blocks.size > 0 -%}
              <div class="cart__footer-delivery-rates">
                <h6>Delivery</h6>
                {%- for block in section.blocks -%}
                  <div class="cart__delivery-rate">
                    <div class="cart__delivery-rate-heading">
                      <span>{{block.settings.title}}</span>
                      <span>
                      {{block.settings.price}}</span>
                    </div>
                    <p class="p-small">{{block.settings.content}}</p>
                  </div>
                {%- endfor -%}
              </div>
            {%- endif -%}

            <div id="cart-errors"></div>
            <p class="visually-hidden" id="cart-live-region-text" aria-live="polite" role="status"></p>
            <p class="visually-hidden" id="shopping-cart-line-item-status" aria-live="polite" aria-hidden="true" role="status">{{ 'accessibility.loading' | t }}</p>
        </div>
    </div>
  {%- else -%}
    <div class="cart__empty">
      <h1 class="h2 section-title">Your cart is empty</h1>
      <a href="{{routes.all_products_collection_url}}" class="button button-primary">Return to store</a>
    </div>
  {%- endif -%}
</div>

{%- schema -%}
{
  "name": "ESQ Cart",
  "tag": "section",
  "class": "section-p",
  "blocks": [
    {
      "type": "shipping-rate",
      "name": "Shipping Rate",
      "limit": 5,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Titel"
        },
        {
          "type": "text",
          "id": "price",
          "label": "Prijs"
        },
        {
          "type": "textarea",
          "id": "content",
          "label": "beschrijving"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "ESQ Cart"
    }
  ]
}
{%- endschema -%}
